---
title: "[ë°±ì¤€] [C++] ê²½ì°°ì°¨ 2618ë²ˆ"	#ëŒ€ê´„í˜¸ë¥¼ ì“°ë ¤ë©´ ""ë¡œ ê°ì‹¸ì£¼ë©´ ëœë‹¤.
date: 2024-04-14 16:10:00 +09:00

categories: [Baekjoon, Platinum]

# Algorithm : ì‹œê°„ë³µì¡ë„, ìë£Œêµ¬ì¡°, ì •ë ¬, íƒìƒ‰, ë°±íŠ¸ë˜í‚¹, íƒìš•ì•Œê³ ë¦¬ì¦˜, ì •ìˆ˜ë¡ , ê·¸ë˜í”„, íŠ¸ë¦¬, ì¡°í•©, ë‹¤ì´ë‚˜ë¯¹í”„ë¡œê·¸ë˜ë°
# Language : Java, Python, C++
# Blog : Markdown, Just_blog
# Baekjoon : Bronze, Silver, Gold, Platinum, Diamond, Ruby

tags: [Algorithm, Baekjoon, C++, DP]

# Algorithm, Baekjoon, Python, Java, DB, Blog
# ë°±íŠ¸ë˜í‚¹, DP, 

image: https://onlinejudgeimages.s3-ap-northeast-1.amazonaws.com/images/boj-og.png
# ë§í¬ ë‹¬ë©´ ë¨

---

<br/>

## ğŸ’¡ ë¬¸ì œ ì„¤ëª…

---

[ë°±ì¤€ ê²½ì°°ì°¨](https://www.acmicpc.net/problem/2618)

![image](https://github.com/hoonably/hoonably.github.io/assets/77783081/bbc1141f-bc4f-4e87-9acc-c0e57804faf9)

ë™ì  ê³„íšë²• + ìµœë‹¨ê±°ë¦¬ ì—­ì¶”ì  ë¬¸ì œì´ë‹¤.

<br/>



## ğŸ’¡ C++ í’€ì´

---

```c++
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
typedef pair<int,int> pii;

/*
dp[i][i] 
ê²½ì°°ì°¨ 1ì´ ë§ˆì§€ë§‰ìœ¼ë¡œ ië²ˆì§¸ ì‚¬ê±´ í•´ê²°,
ê²½ì°°ì°¨ 2ê°€ ë§ˆì§€ë§‰ìœ¼ë¡œ jë²ˆì§¸ ì‚¬ê±´ í•´ê²°í–ˆì„ ê²½ìš°
ì´ ê±°ë¦¬ì˜ í•©ì˜ ìµœì†Œê°’ ì €ì¥
*/

int N, M;
pii accident[1001], before[1001][1001];
int dp[1001][1001];

int dist(int car, int start, int end){
    
    if (start==0){
        if (car==1){
            return accident[end].first-1 + accident[end].second-1;
        }
        else {
            return N-accident[end].first + N-accident[end].second;
        }
    }

    // c++17 ë¶€í„° ê°€ëŠ¥ auto unpacking
    auto [x1, y1] = accident[start];
    auto [x2, y2] = accident[end];

    return abs(x1-x2)+abs(y1-y2);
}

void backtrace (int x, int y) {
	if (x==0 && y==0) return;
	int nx = before[x][y].first;
    int ny = before[x][y].second;
    backtrace(nx, ny);
	if (x>y) cout << "1\n";
    else cout << "2\n";
}

int main(){
    ios_base::sync_with_stdio(0); cin.tie(0);
    
    cin >> N >> M;
    for (int i=1; i<=M; i++){
        cin >> accident[i].first >> accident[i].second;
    }


    // dp ì´ˆê¸°í™”
    for(int i=0; i<=M; i++){
        for (int j=0; j<=M; j++){
            dp[i][j] = 1e9;
        }
    }
    dp[0][0]=0;

    // ì²˜ìŒì— ì‹œì‘ì ì—ì„œ ì´ë™í•˜ëŠ” ê²½ìš°ë§Œ ë”°ë¡œ í•´ì¤˜ì•¼í•¨

    for (int end=1; end<=M; end++){

        // end-1ì„ ê²½ì°°ì°¨1ì´ ë°©ë¬¸í•œ ê²½ìš°
        for (int car2=0; car2<=end-1; car2++){

            // endë¥¼ ê²½ì°°ì°¨1ì´ ë˜ ë°©ë¬¸
            int dist11 = dp[end-1][car2] + dist(1, end-1, end);
            if (dist11<dp[end][car2]){
                dp[end][car2] = dist11;
                before[end][car2] = {end-1, car2};
            }

            // endë¥¼ ê²½ì°°ì°¨2ê°€ ë°©ë¬¸
            int dist12 = dp[end-1][car2] + dist(2, car2, end);
            if(dist12 < dp[end-1][end]){
                dp[end-1][end] = dist12;
                before[end-1][end] = {end-1, car2};
            }
        }


        // end-1ì„ ê²½ì°°ì°¨2ì´ ë°©ë¬¸í•œ ê²½ìš°
        for (int car1=0; car1<=end-1; car1++){
            // endë¥¼ ê²½ì°°ì°¨2ê°€ ë˜ ë°©ë¬¸
            int dist22 = dp[car1][end-1] + dist(2, end-1, end);
            if(dist22<dp[car1][end]){
                dp[car1][end] = dist22;
                before[car1][end] = {car1, end-1};
            }

            // endë¥¼ ê²½ì°°ì°¨1ì´ ë°©ë¬¸
            int dist21 = dp[car1][end-1] + dist(1, car1, end);
            if(dist21 < dp[end][end-1]){
                dp[end][end-1] = dist21;
                before[end][end-1] = {car1, end-1};
            }
        }
    }


    // ìµœëŒ€ê°’ ì°¾ê¸°
    int ans = 1e9;
    pii idx;
    for(int i=0; i<M; i++){
        if (dp[M][i] < ans){
            ans = dp[M][i];
            idx = {M,i};
        }
        if (dp[i][M] < ans){
            ans = dp[i][M];
            idx = {i,M};
        }
    }
    cout << ans << '\n';
    backtrace(idx.first, idx.second);

    return 0;
}
```

<br/>



## ğŸ’¡ ì œì¶œ ê²°ê³¼ 

---

20ms ëŒ€ì˜ ë¹ ë¥¸ ì†ë„ë¡œ ë‹µì„ êµ¬í•  ìˆ˜ ìˆë‹¤.

<img width="967" alt="image" src="https://github.com/hoonably/hoonably.github.io/assets/77783081/e32566d8-eb16-44fe-a6b5-3adbc464adfd">

<br/>



## ğŸ’¡ ë§ˆë¬´ë¦¬ 

---

DP í”Œë˜í‹°ë„˜ ë¬¸ì œ ì¹˜ê³¤ ë„ì›€ ì—†ì´ í˜¼ì ì˜ í’€ì–´ëƒˆë‹¤. backtraceëŠ” ìƒê°ë³´ë‹¤ ì¬ë°ŒëŠ”ê²ƒ ê°™ë‹¤.



<br/>
